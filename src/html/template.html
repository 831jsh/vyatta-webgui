<!--
/*
 *  Copyright 2006, Vyatta, Inc.
 *
 *  GNU General Public License
 * 
 *  This program is free software; you can redistribute it and/or modify
 *  it under the terms of the GNU General Public License, version 2, 
 *  as published by the Free Software Foundation.
 * 
 *  This program is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU General Public License for more details.
 *
 *  You should have received a copy of the GNU General Public License
 *  along with this program; if not, write to the Free Software
 *  Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
 *  02110-1301 USA
 *
 *  Module:           template.html
 *
 *  Original Author:  DHAP Digital, Inc.  Douglas Good & others
 *  Date:             2006
 *  Description:      HTML file used as a template
 *
 */
-->

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<title>Vyatta</title>
	<style type="text/css">@import "css/main.css";</style>
<script type="text/javascript" src="/js/xml.js"></script>
<link rel="stylesheet" href="css/nav.css" type="text/css">
<script type="text/javascript" src="/js/server.js"></script>
<script type="text/javascript" src="/js/ui.js"></script>
<script type="text/javascript" src="/js/app.js"></script>

<script type="text/javascript">

function sendServerRequest() {
	var textElement = document.getElementById("xgdRequest1");
	var xml = textElement.value;
	appManager.serverManager.sendRequest(xml);
	showResponse("<i>loading<\/i>");
}

function sendXmlRequest(xml) {
	var activeX = false;
	var url = "/xgcgi2";

	if (window.XMLHttpRequest) {
		httpRequest = new XMLHttpRequest();
	}
	else {
		httpRequest = new ActiveXObject("Microsoft.XMLHTTP");
		activeX = true;
	}

	httpRequest.onreadystatechange = httpResponseListener;

	showResponse("<i>loading<\/i>");

	httpRequest.open("POST", url, true);
	httpRequest.setRequestHeader('Content-Type', 'text/xml');
	httpRequest.send(xml);
}

function httpResponseListener() {
	if (httpRequest.readyState == 4) {
		// "4" indicates a state of "complete"
		if (httpRequest.status == 200) {
			// Response is OK
			handleServerResponse();
		} else {
			alert("There was an error during the request : status = " + httpRequest.status + ", text = " + httpRequest.statusText);
		}
	}
}

function handleServerResponse() {
	showResponse("<xmp>" + httpRequest.responseText + "<\/xmp>");
}

function showResponse(html) {
	responseDisplay().innerHTML = html;
}

function responseDisplay() {
	return document.getElementById("responseArea");
}

var appManager = null;

function init() {
	appManager = new AppManager();
	appManager.init();
}
function helpContent(){
	document.getElementById('configArea').innerHTML = "<p><b>This is the Help Content<\/b><\/p>"
}
function supportContent(){
	document.getElementById('configArea').innerHTML = "<p><b>This is the Support Content<\/b><\/p>"
}

</script>
</head>
<body onload="init();">
<div id="whole_layout">
	<!-- begin main div container -->
	<div id="container">
		<div id="top_bg_div">
			<!-- begin left side div container -->
			<div id="left_side_container">
				<img src="images/logo.gif" alt="Vyatta" width="235" height="78">
				<!-- nav -->
				<div id="contextArea"></div>
				<div id="operationMenuArea"></div>
				<div id="toolMenuArea"></div>
				<!-- end nav -->
			</div>
			<!-- end left side div container -->
			<!-- end right side div container -->
			<div id="right_side_container">
				<div id="top_nav_div">
					<div id="top_nav_container">
					<img src="images/topnav_1.gif" alt="" width="129" height="60" style="float:left;">
						<div id="top_nav_buttons_div">
							<a href="javascript:appManager.uiManager.clickCommit();"><img id="commitButton" src="images/bt_commit_inactive.gif" alt="Commit Changes" width="132" height="20" class="top_nav_bt"></a>
							<a href="javascript:;"><img src="images/bt_logout.gif" alt="Logout" width="57" height="20" class="top_nav_bt"></a>
							<a href="javascript:helpContent();"><img src="images/bt_help.gif" alt="Help" width="43" height="20" class="top_nav_bt"></a>
							<a href="javascript:supportContent();"><img src="images/bt_support.gif" alt="Vyatta Support" width="133" height="20" class="top_nav_bt"></a>
						</div>
					</div>
					<div id="content_cap_div"><img src="images/content_cap.gif" alt="" width="768" height="23"></div>
					<div id="content_container">
						<table border="0" width="719" cellspacing="0" cellpadding="0">
							<tr valign="top">
								<td>
									<!-- begin left content (nav) -->
									<div id="left_content">
										<div id="configArea"><p><a href="javascript:appManager.initServer();">Start Server Session</a></p></div>
									</div>
									<!-- end left content (nav) -->
								</td>
								<td style="background-color:#ffffff;"><img src="images/spacer.gif" alt="" width="34" height="1"></td>
								<td>
									<!-- begin right content -->
									<div id="right_content">
										<div id="status_div">
											<img src="images/tab_status.gif" alt="Status" width="237" height="19">
											<div class="right_context_box" style="padding:15px;">
												<!-- begin status table -->
												<table border="0" width="100%" cellspacing="0" cellpadding="2">
													<tr>
														<td>Version</td>
														<td>0.1</td>
													</tr>
													<tr>
														<td>Uptime</td>
														<td>xx.xx.xx</td>
													</tr>
													<tr>
														<td>Local Time</td>
														<td>22.15 PST</td>
													</tr>
													<tr>
														<td>GMT</td>
														<td>5:15</td>
													</tr>
													<tr>
														<td colspan="2">&#160;</td>
													</tr>
													<tr>
														<td colspan="2">CPU:</td>
													</tr>
													<tr>
														<td colspan="2">
															&#160;&#160;&#160;20% System<br>
															&#160;&#160;&#160;80% Idle
														</td>
													</tr>
													<tr>
														<td colspan="2">&#160;</td>
													</tr>
													<tr>
														<td colspan="2">Network Packets::</td>
													</tr>
													<tr>
														<td align="right">in:&#160;</td>
														<td align="left">135013</td>
													</tr>
													<tr>
														<td align="right">out:&#160;</td>
														<td align="left">135013</td>
													</tr>
													<tr>
														<td align="right">dropped:&#160;</td>
														<td align="left">135013</td>
													</tr>
													<tr>
														<td align="right">blocked by firewall:&#160;</td>
														<td align="left">135013</td>
													</tr>
												</table>
												<!-- end status table -->
											</div>
										</div>
										<br>
										<div id="tools_div">
											<img src="images/tab_tools.gif" alt="Tools" width="237" height="19">
											<!-- begin tools content -->
											<div class="right_context_box">
												<div class="tools_detail">
													<table border="0" width="100%" cellspacing="0" cellpadding="0">
														<tr>
															<td align="left"><a href="javascript:;">Subnet Calculator</a></td>
														</tr>
													</table>
												</div>
												<div id="toolsArea">
												</div>
												<br>
											</div>
										<!-- end tools content -->
										</div>
									</div>
									<!-- end right content -->
								</td>
							</tr>
						</table>
					</div>					
				</div>
			</div>
			<!-- end right side div container -->
		</div>
	</div>
</div>
<!-- end main div container -->

<!-- 
<p>
<a href="javascript:document.getElementById('checkText').value=document.getElementById('contextArea').innerHTML;">check source of nav</a>
<textarea id="checkText" rows="5" cols="50"></textarea>
</p>
 -->


	<div id="operationsArea" style="display:none"></div>
	<div id="operationArgsArea" style="display:none"></div>
    
    <div id="errorArea" style="display:none"></div>
    <div id="operationResultsArea" style="display:none"></div>
    <p style="display:none">Request Debug:</p>
    <div id="requestDebug" style="display:none"></div>
    <p style="display:none">Response Debug:</p>
    <div id="responseDebug" style="display:none"></div>

</body>
</html>
